<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <h1>Сервис комментариев со спам-фильтром</h1>
    <section>
        <div class="comment">
            <h2>Оставьте ваш комментарий</h2>
            Введите ФИО
            <input class="comment__name" type="text">
            Введите ссылку на ваш аватар
            <input class="comment__url">
            Оставьте комментарий
            <input class="comment__text">
            <button class="button"> Отправить</button>
        </div>
        <div class="chat">
            <h2>Чат</h2>
            <div class="user">
            </div>

        </div>
    </section>

    <script>
        //получаю элементы и записываю в переменные
        let userName = document.querySelector('.comment__name');
        let photo = document.querySelector('.comment__url');
        let comment = document.querySelector('.comment__text');
        const btn = document.querySelector('.button');
        let chat = document.querySelector('.user');

        btn.addEventListener('click', () => { //вешаю событие "клик" на кнопку, по клику сработает функция 
            let userName1 = userName.value; //Перезаписываю в новую переменную значение из inputa (ФИО)
            const arr = userName1.split(" "); //получаю массив из строки
            const ArrUpp = []; // новая переменная, пустышка для вставки отредактированного ФИО из функции
            for (let i = 0; i < arr.length; i++) { //перебираю элементы массива
                ArrUpp.push(arr[i] = arr[i].substring(0, 1).toUpperCase() + arr[i].substring(1)
                    .toLowerCase()); // push - добавляю в пустой массив ФИО в правильном регистре
            };
            let nameUp = ArrUpp.join(' '); //объединение элементов массива строки ФИО

            let comment1 = comment.value.replace(/viagra/gi, '***').replace(/xxx/gi,
                '***'); //Перезаписываю в новую переменную значение из inputa (комментарий) с антиспамом.
            comment1 = comment1.substr(0, 1).toUpperCase() + comment1.substr(1)
                .toLowerCase(); //Перезаписываю в правильном регистре

            chat.innerHTML = // создаю новую разметку в чате и передаю туда отредактированные значения ФИО (с антиспамом) и комментария
                `<img src="${photo.value}" alt="your avatar"> 
            <p id="name">${nameUp.replace(/viagra/gi, '***').replace(/xxx/gi, '***')}</p> 
            <p id="ask">${comment1}</p>`
        })
    </script>


</body>

</html>